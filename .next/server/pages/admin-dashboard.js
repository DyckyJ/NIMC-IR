"use strict";(()=>{var e={};e.id=74,e.ids=[74,220],e.modules={361:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},2015:e=>{e.exports=require("react")},2326:e=>{e.exports=require("react-dom")},3873:e=>{e.exports=require("path")},4075:e=>{e.exports=require("zlib")},5764:(e,t,r)=>{r.r(t),r.d(t,{config:()=>S,default:()=>g,getServerSideProps:()=>j,getStaticPaths:()=>m,getStaticProps:()=>b,reportWebVitals:()=>f,routeModule:()=>D,unstable_getServerProps:()=>M,unstable_getServerSideProps:()=>_,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>P,unstable_getStaticProps:()=>v});var a={};r.r(a),r.d(a,{default:()=>h});var d=r(3885),s=r(237),i=r(1413),n=r(8548),l=r.n(n),o=r(9380),c=r.n(o),p=r(8732),u=r(2015),x=r(4233);function h(){let[e,t]=(0,u.useState)([]),[r,a]=(0,u.useState)(""),[d,s]=(0,u.useState)(!0),[i,n]=(0,u.useState)("");(0,x.useRouter)();let l=async()=>{s(!0),n("");let{data:e,error:r}=await Object(function(){var e=Error("Cannot find module '@/lib/supabaseClient'");throw e.code="MODULE_NOT_FOUND",e}()).from("attendance").select("*, users (id, email, department)");r?n("Failed to load attendance data."):e&&t(e),s(!1)},o=async e=>{if(a(e.target.value),e.target.value){let{data:r,error:a}=await Object(function(){var e=Error("Cannot find module '@/lib/supabaseClient'");throw e.code="MODULE_NOT_FOUND",e}()).from("attendance").select("*, users (id, email, department)").eq("date",e.target.value);a?n("Error filtering by date."):r&&t(r)}else l()};return(0,p.jsxs)("div",{style:{maxWidth:800,margin:"auto",padding:"2rem"},children:[(0,p.jsx)("h2",{children:"Admin Dashboard"}),i&&(0,p.jsx)("p",{style:{color:"red"},children:i}),d?(0,p.jsx)("p",{children:"Loading attendance data..."}):(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"date-filter",children:"Filter by Date: "}),(0,p.jsx)("input",{id:"date-filter",type:"date",value:r,onChange:o}),(0,p.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"1rem"},children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"Email"}),(0,p.jsx)("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"Department"}),(0,p.jsx)("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"Date"}),(0,p.jsx)("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"Status"})]})}),(0,p.jsx)("tbody",{children:e.length>0?e.map(e=>(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{style:{border:"1px solid #ccc",padding:"8px"},children:e.users?.email}),(0,p.jsx)("td",{style:{border:"1px solid #ccc",padding:"8px"},children:e.users?.department}),(0,p.jsx)("td",{style:{border:"1px solid #ccc",padding:"8px"},children:e.date}),(0,p.jsx)("td",{style:{border:"1px solid #ccc",padding:"8px"},children:e.status})]},e.id)):(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:4,style:{textAlign:"center",padding:"1rem"},children:"No attendance data found."})})})]})]})]})}!function(){var e=Error("Cannot find module '@/lib/supabaseClient'");throw e.code="MODULE_NOT_FOUND",e}();let g=(0,i.M)(a,"default"),b=(0,i.M)(a,"getStaticProps"),m=(0,i.M)(a,"getStaticPaths"),j=(0,i.M)(a,"getServerSideProps"),S=(0,i.M)(a,"config"),f=(0,i.M)(a,"reportWebVitals"),v=(0,i.M)(a,"unstable_getStaticProps"),P=(0,i.M)(a,"unstable_getStaticPaths"),y=(0,i.M)(a,"unstable_getStaticParams"),M=(0,i.M)(a,"unstable_getServerProps"),_=(0,i.M)(a,"unstable_getServerSideProps"),D=new d.PagesRouteModule({definition:{kind:s.A.PAGES,page:"/admin-dashboard",pathname:"/admin-dashboard",bundlePath:"",filename:""},components:{App:c(),Document:l()},userland:a})},7910:e=>{e.exports=require("stream")},8732:e=>{e.exports=require("react/jsx-runtime")},9021:e=>{e.exports=require("fs")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[548,156],()=>r(5764));module.exports=a})();